(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{109:function(e,t){},112:function(e,t,n){},113:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),o=n(51),r=n(8),l=n(4);const s=Object(l.a)();var b=n(3),m=n(1);const u=Object(m.f)(""),j=Object(m.e)(),O=Object(m.e)();u.on(j,(e,t)=>t.currentTarget.value),u.reset(O);const i=Object(m.e)();i.watch(O);var E=n(53),d=n.n(E);const g=Object(m.d)({handler:async e=>(await d.a.post("http://localhost:4000/room",{roomName:e})).data}),h=Object(m.f)([]);h.on(g.doneData,(e,{room:t})=>[...e,{id:t.id,name:t.name,link:"/room/"+t.id,fullLink:"http://localhost:3000/room/"+t.id}]);const p=Object(m.f)({name:""}),f=Object(m.e)();p.on(f,(e,t)=>Object.assign(Object.assign({},e),t));Object(m.e)();const v=Object(m.f)(""),k=Object(m.e)(),x=Object(m.e)();v.on(k,(e,t)=>t.currentTarget.value),v.reset(x);const w=Object(m.f)(!1),y=Object(m.e)(),C=Object(m.e)();w.on(y,()=>!0),w.reset(C);const T=Object(m.e)();T.watch(x),Object(m.g)({source:Object(m.j)({source:v,clock:T,target:f.prepend(e=>({name:e}))}),filter:e=>0!==e.length,target:y}),Object(m.g)({source:Object(m.j)(u,i),filter:w,target:g});const I=()=>{const e=Object(b.b)(u),t=Object(b.b)(w);return c.a.createElement("div",null,t?c.a.createElement(c.a.Fragment,null,c.a.createElement("input",{type:"text",value:e,onChange:j}),c.a.createElement("button",{onClick:()=>i()},"Create room")):c.a.createElement("p",null,"To create room you must be joined!"))},J=()=>{const e=Object(b.b)(p),t=Object(b.b)(v),n=Object(b.b)(w);return c.a.createElement("div",null,n&&c.a.createElement("p",null,"You are joined as ",e.name),!n&&c.a.createElement(c.a.Fragment,null,c.a.createElement("input",{type:"text",value:t,onChange:k}),c.a.createElement("button",{onClick:()=>T()},"Join as")))};var _=n(19);const L=Object(m.f)(-1),F=Object(m.e)(),N=Object(m.e)();L.on(F,(e,t)=>t),L.reset(N);var B=n(54),D=n.n(B);const S=()=>{const e=Object(r.g)(),t=Object(b.a)(h,(t,n)=>{const a=Object(b.b)(L)===n;return c.a.createElement("li",{key:n,className:D.a.room},c.a.createElement("p",{onClick:()=>{return n=t.link,void e.push(n);var n}},t.name),c.a.createElement("button",{onClick:()=>F(n)},"Show more"),a&&c.a.createElement("p",null,"Link: ",c.a.createElement(_.a,{to:t.link},t.fullLink)))});return c.a.createElement("ul",null,t)},Y=()=>c.a.createElement("div",null,c.a.createElement(J,null),c.a.createElement(S,null),c.a.createElement(I,null));var q=n(57);const z=n.n(q)()("http://localhost:4000/rooms"),A=Object(m.f)(""),G=Object(m.e)();A.on(G,(e,t)=>t);const H=Object(m.f)({id:"",name:"",users:[]}),K=Object(m.e)(),M=Object(m.e)(),P=Object(m.e)();H.on(K,(e,t)=>Object.assign(Object.assign({},e),t)),H.on(M,(e,t)=>Object.assign(Object.assign({},e),{data:t.currentTarget.value})),H.on(P,(e,t)=>Object.assign(Object.assign({},e),{data:t}));const Q=Object(m.e)();Q.watch(e=>{z.emit("join-room",e)}),z.on("join-room-response",K),Object(m.g)({source:Object(m.b)(p,A,(e,t)=>({roomId:t,username:e.name})),filter:e=>e.username.length>0&&e.roomId.length>0,target:Q});const R=Object(m.e)();R.watch(e=>{z.emit("text-change",e)}),z.on("text-change-response",P),Object(m.j)(A,M,(e,t)=>R({roomId:e,value:t.currentTarget.value}));const U=()=>{const e=Object(b.b)(H);return c.a.createElement("textarea",{value:e.data||"",onChange:M})},V=()=>{const e=Object(r.h)(),t=Object(b.b)(w);return c.a.useEffect(()=>{G(e.id)},[e]),c.a.createElement("div",null,c.a.createElement(J,null),t&&c.a.createElement(U,null))},W=()=>c.a.createElement(r.c,{history:s},c.a.createElement(r.d,null,c.a.createElement(r.b,{path:"/",exact:!0},c.a.createElement(r.a,{to:"/dashboard"})),c.a.createElement(r.b,{path:"/dashboard",component:Y,exact:!0}),c.a.createElement(r.b,{path:"/room/:id",component:V,exact:!0})));n(112);const X=document.getElementById("root");Object(o.render)(c.a.createElement(()=>c.a.createElement(W,null),null),X)},54:function(e,t,n){e.exports={room:"styles_room__tJa_9"}},58:function(e,t,n){e.exports=n(113)}},[[58,1,2]]]);
//# sourceMappingURL=main.109549fa.chunk.js.map